Arelin.Thing.handle_shields: (hit_dmg: F64) -> (self: Arelin.Thing) -> Arelin.Thing
  (hit_dmg) (self) let self.buf = Arelin.Thing.get_buf(self); let self.dmg = Arelin.Thing.get_dmg(self); let init_val = Pair.new<F64><List(Arelin.Game.Buff)>(hit_dmg)([Arelin.Game.Buff;]); let res = List.fold<Arelin.Game.Buff><Pair(F64)(List(Arelin.Game.Buff))>(init_val)(Arelin.Game.use_shields)(self.buf); let remaining_dmg = F64.add(Pair.fst<F64><List(Arelin.Game.Buff)>(res))(self.dmg); let remaining_buf = Pair.snd<F64><List(Arelin.Game.Buff)>(res); let self = Arelin.Thing.set_dmg(self)(remaining_dmg); let self = Arelin.Thing.set_buf(self)(remaining_buf); self

