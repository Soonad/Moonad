TA.Thing.handle_shields: Π(hit_dmg:F64) Π(self:TA.Thing) TA.Thing
  λhit_dmg λself @self.buf=(TA.Thing.get_buf self);@self.dmg=(TA.Thing.get_dmg self);@init_val=((<<Pair.new F64> (List TA.Game.Buff)> hit_dmg) <List.nil TA.Game.Buff>);@res=(((<<List.fold TA.Game.Buff> ((Pair F64) (List TA.Game.Buff))> init_val) TA.Game.use_shields) self.buf);@res.fst=(<<Pair.fst F64> (List TA.Game.Buff)> res);@res.snd=(<<Pair.snd F64> (List TA.Game.Buff)> res);@remaining_dmg=((F64.add res.fst) self.dmg);@remaining_buf=res.snd;@self=((TA.Thing.set_dmg self) remaining_dmg);@self=((TA.Thing.set_buf self) remaining_buf);self

