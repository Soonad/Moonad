Parser.token: ∀(A:*) Π(f:Π(:Char) (Maybe A)) Π(es:(List Parser.Item)) (Parser A)
  ΛA λf λes λs1 (<s1 λself (Parser.Reply A)> λpos λstr λerrs ((<str λstr.self (Parser.Reply A)> @e=(((Parser.Error.new pos) (<Maybe.some Parser.Item> Parser.Item.eof)) es);((<Parser.Reply.err A> s1) e)) λstr.head λstr.tail ((<(f str.head) λself.self (Parser.Reply A)> @unx=(<Maybe.some Parser.Item> (Parser.Item.tokens (String.pure str.head)));((<Parser.Reply.err A> s1) (((Parser.Error.new pos) unx) es))) λself.value @s2=(((Parser.State.make (Nat.succ pos)) str.tail) errs);((<Parser.Reply.val A> s2) self.value))))

