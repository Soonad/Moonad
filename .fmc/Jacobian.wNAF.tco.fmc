Jacobian.wNAF.tco: Π(:(List Jacobian)) Π(:Jacobian) Π(:Jacobian) Π(:Nat) Π(:Nat) Π(:Nat) Π(:Nat) Π(:Nat) Π(:Nat) Π(:Nat) ((Pair Jacobian) Jacobian)
  λprecomputes λp λf λn λW λwindow λwindows λwindowSize λmask λmaxNumber ((((<Bool.if Π(:Unit) ((Pair Jacobian) Jacobian)> ((Nat.ltn window) windows)) λ $offset=((Nat.mul window) windowSize);$wbits=((Nat.bitwise_and n) mask);$n=((Nat.div n) maxNumber);(<(((<Bool.if ((Pair Nat) Nat)> ((Nat.gtn wbits) windowSize)) ((<<Pair.new Nat> Nat> (Nat.succ n)) ((Nat.sub wbits) maxNumber))) ((<<Pair.new Nat> Nat> n) wbits)) λx ((Pair Jacobian) Jacobian)> λn λwbits (((<Bool.if ((Pair Jacobian) Jacobian)> ((Nat.eql wbits) 0)) $q=((<Maybe.extract Jacobian> ((<List.at Jacobian> precomputes) offset)) Jacobian.0);$f=((Jacobian.add f) (((<Bool.if Jacobian> (Nat.odd window)) (Jacobian.negate q)) q));$window=(Nat.succ window);((((((((((Jacobian.wNAF.tco precomputes) p) f) n) W) window) windows) windowSize) mask) maxNumber)) $cached=((<Maybe.extract Jacobian> ((<List.at Jacobian> precomputes) (Nat.pred ((Nat.add offset) wbits)))) Jacobian.0);$p=((Jacobian.add p) cached);$window=(Nat.succ window);((((((((((Jacobian.wNAF.tco precomputes) p) f) n) W) window) windows) windowSize) mask) maxNumber)))) λ ((<<Pair.new Jacobian> Jacobian> p) f)) Unit.new)

