Arelin.Thing.end_thing: Π(self:Arelin.Thing) Π(tx:Arelin.Game.TxFunction) Π(after_tiks:F64) Π(stt_key:Bits) Arelin.Thing
  λself λtx λafter_tiks λstt_key $self.stt=(Arelin.Thing.get_stt self);$current_tik=((<Map.get F64> stt_key) self.stt);$empty_stt=(((<Map.set F64> stt_key) after_tiks) self.stt);((<current_tik λcurrent_tik.self Arelin.Thing> ((Arelin.Thing.set_stt self) empty_stt)) λcurrent_tik.value ((<((F64.eql current_tik.value) F64.0) λself.self Arelin.Thing> $self.pid=(Arelin.Thing.get_pid self);$self.pos=(Arelin.Thing.get_pos self);$self=((Arelin.Thing.set_fun self) tx);$self=((Arelin.Thing.set_pid self) self.pid);$self=((Arelin.Thing.set_pos self) self.pos);$self=((Arelin.Thing.set_stt self) empty_stt);self) $new_stt=(((<Map.set F64> stt_key) ((<((F64.gtn current_tik.value) F64.0) λself.self F64> ((F64.sub current_tik.value) F64.1)) F64.0)) self.stt);((Arelin.Thing.set_stt self) new_stt)))

