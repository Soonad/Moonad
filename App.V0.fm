T App.V0<S: Type>
| new(
  init: S,
  draw: S -> App.V0.Render,
  when: App.V0.Event -> S -> S);

T App.V0.Render
| text(str: String);

T App.V0.Event
| keypress(keycode: U16);

// A demo application
App.V0.demo: App.V0(Nat)
  def init
    0
  def draw(state)
    App.V0.Render.text(String.concat("Clicks: ", Nat.to_string_unary(state)))
  def when(event, state)
    case event:
    | keypress => Nat.succ(state);
  App.V0.new<>(init, draw, when)
